

---

# 前言

# Anaconda安装

```shell

wget XXX

bash XXX.sh

# 一直同意

conda config --set auto_activate_base false

conda activate base
```

❇️创建虚拟环境

```shell
conda create -n test_ros2 python=3.10 -y
conda activate test_ros2
# codna remove -n test_ros2 --all
```

# 安装ros2


> 环境要求：
> - ubuntu: 24.04

这里以安装ros2 jazzy为例

❇️Ubuntu换源

```shell
apt update
apt install vim -y

# 备份
cp /etc/apt/sources.list.d/ubuntu.sources /etc/apt/sources.list.d/ubuntu.sources.bak

vim /etc/apt/sources.list.d/ubuntu.sources
```

用以下内容覆盖文件

```shell
# 阿里云
Types: deb
URIs: http://mirrors.aliyun.com/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

# #####################或者清华源############################
# # 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
# Types: deb
# URIs: http://mirrors.tuna.tsinghua.edu.cn/ubuntu/
# Suites: noble noble-updates noble-security
# Components: main restricted universe multiverse
# Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

# #####################或者中科大源############################
# # 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
# Types: deb
# URIs: http://mirrors.ustc.edu.cn/ubuntu/
# Suites: noble noble-updates noble-security
# Components: main restricted universe multiverse
# Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

# #####################或者网易163源############################
# # 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
# Types: deb
# URIs: http://mirrors.163.com/ubuntu/
# Suites: noble noble-updates noble-security
# Components: main restricted universe multiverse
# Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
```

❇️安装ros2

```shell
conda activate test_ros2

apt update
sudo apt install software-properties-common -y

sudo add-apt-repository universe # 按后面Enter

sudo apt update && sudo apt install curl gnupg2 -y
sudo curl -sSL https://gitee.com/tyx6/rosdistro/raw/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg

echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null

apt install curl gnupg2 -y

# 这一步先打开科学上网，不然会报错
curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg

# 这一步先关闭科学上网，不然会报错
sudo apt update && sudo apt upgrade -y
sudo apt install ros-jazzy-desktop -y
```

❇️添加终端启动sh

```shell
echo "source /opt/ros/jazzy/setup.bash" > ~/.bashrc
```


❇️安装必要的第三方库

```shell
sudo apt install python3-colcon-common-extensions -y   
```

❇️测试虚拟环境是否可用

```shell
conda activate test_ros2
python3

import rclpy
rclpy.init(args=None)
# 如果导入成功，说明成功了！
```